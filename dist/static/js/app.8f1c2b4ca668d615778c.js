webpackJsonp([6],{127:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(76),i=n.n(o),a=n(77),s=n.n(a);e.default={name:"app",components:{bottomNav:i.a,shoppingCartSheet:s.a}}},128:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{fixed:{type:Boolean,default:!1},activeColor:{type:String,default:"#ff5252"}},data:function(){return{bottomNavIndex:0,bottomNav:[{span:"首页",icon:"loyalty",path:"/index"},{span:"分类",icon:"format_list_bulleted",path:"/classify"},{span:"菜篮",icon:"shopping_basket",path:"/shoppingCart"},{span:"我的",icon:"face",path:"/face"}]}},computed:{activePath:function(){return this.$route.matched[0]?this.$route.matched[0].path:"/"},shoppingCartList:function(){return this.$store.state.shoppingCartList}},methods:{bottomNavChange:function(t){this.bottomNavIndex=t,this.$router.push(this.bottomNav[t].path)}}}},129:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{goodsId:{type:String,default:"c4ca4238a0b923820dcc509a6f75849b"},width:{type:String,default:"100%"},height:{type:String,default:"200px"},subTitle:{type:String,default:""},hidTitle:{type:Boolean,default:!1},data:{type:Object,default:function(){return{}}}},methods:{clickImg:function(){this.$emit("clickImg",this.data)},clickShop:function(){this.$emit("clickShop",this.data),this.$store.commit("openShoppingCart",this.data)}}}},130:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{size:{type:Number||String,default:50},bgColor:{type:String,default:"#1B9AF7"},shadowColor:{type:String,default:"#0880d7"},preset:{type:Number,default:-1}},computed:{style:function(){for(var t=[],e=0;e<Number(this.size)/2;e++)t.push(e+"px "+e+"px "+this.shadowColor);return{overflow:"hidden",height:this.size+"px",width:this.size+"px",textShadow:t.join(","),backgroundColor:this.bgColor}},presetColor:function(){return""}}}},131:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{bottomSheet:!1,count:0,topPopup:!1,popupText:""}},computed:{goodsData:function(){var t=this.$store.state.shoppingCartSheetItem;return this.bottomSheet=this.$store.state.shoppingCartSheetOpen,t}},methods:{closeBottomSheet:function(){this.count=0,this.$store.commit("closeShoppingCart")},countAdd:function(){this.count++},countDel:function(){this.count>0&&this.count--},intoShoppingCart:function(){var t=this;if(this.count<1)this.topPopup=!0,this.popupText="购买数量不能为0",setTimeout(function(){t.topPopup=!1},2e3);else{var e=this.goodsData;e.count=this.count,e.check=!0,this.$store.commit("pushShoppingCartList",e),this.closeBottomSheet()}}}}},132:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{marginTop:{type:String,default:"0px"},marginBottom:{type:String,default:"0px"}},methods:{scrollTopChange:function(t){this.$emit("scrollTopChange",t)}},directives:{scroll:function(t,e,n){t.addEventListener("scroll",function(t){n.context.scrollTopChange(t.target.scrollTop)})}}}},133:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),i=n(44),a=n.n(i),s=n(52),c=n(53),r=n(48),u=n.n(r),p=n(49),l=(n.n(p),n(50)),d=(n.n(l),n(47)),h=n.n(d),f=n(46),v=n.n(f),m=n(45),g=n.n(m),_=n.i(c.a)();o.default.use(u.a),o.default.component("scrollContiner",h.a),o.default.component("longShadowBtn",v.a),o.default.component("goodsCard",g.a),o.default.prototype.api=n(51).default,o.default.config.productionTip=!1,new o.default({el:"#app",store:_,router:s.a,template:"<App/>",components:{App:a.a}})},134:function(t,e,n){"use strict";e.a={FETCH_LIST_DATA:function(t,e){var n=t.commit,o=t.dispatch,i=(t.state,e.type);return n("SET_ACTIVE_TYPE",{type:i}),fetchIdsByType(i).then(function(t){return n("SET_LIST",{type:i,ids:t})}).then(function(){return o("ENSURE_ACTIVE_ITEMS")})}}},135:function(t,e,n){"use strict";e.a={activeIds:function(t){},activeItems:function(t,e){}}},136:function(t,e,n){"use strict";n(7);e.a={openShoppingCart:function(t,e){t.shoppingCartSheetItem=e,t.shoppingCartSheetOpen=!0},closeShoppingCart:function(t){t.shoppingCartSheetOpen=!1},pushShoppingCartList:function(t,e){var n=!0;t.shoppingCartList.forEach(function(t){t.id==e.id&&(t.count=t.count+e.count,n=!1)}),n&&t.shoppingCartList.push(e)},popShoppingCartList:function(t,e){t.shoppingCartList.splice(e,1)},shoppingCartListCheck:function(t,e){var n=e.index,o=e.flag,i=t.shoppingCartList[n];i.check=o,t.shoppingCartList.splice(n,1,i)},shoppingCartListAllCheck:function(t,e){t.shoppingCartList.forEach(function(n,o){var i=n;n.check=e,t.shoppingCartList.splice(o,1,i)})},shoppingCartListChangeCount:function(t,e){var n=e.index,o=e.count,i=t.shoppingCartList[n];i.count=o,t.shoppingCartList.splice(n,1,i)}}},44:function(t,e,n){function o(t){n(88)}var i=n(3)(n(127),n(82),o,null,null);t.exports=i.exports},45:function(t,e,n){function o(t){n(89)}var i=n(3)(n(129),n(83),o,"data-v-e75e68a8",null);t.exports=i.exports},46:function(t,e,n){function o(t){n(85)}var i=n(3)(n(130),n(79),o,null,null);t.exports=i.exports},47:function(t,e,n){function o(t){n(84)}var i=n(3)(n(132),n(78),o,"data-v-15fce232",null);t.exports=i.exports},49:function(t,e){},50:function(t,e){},51:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(55),i=n.n(o),a=n(57),s=n.n(a),c=s.a.create({baseURL:"http://119.23.174.214",timeout:2e3,headers:{"Content-Type":"application/json"}});c.interceptors.response.use(function(t){if(200===t.data.status)return t.data;alert("数据获取失败")},function(t){return i.a.reject(t)}),e.default={getIndexActivity:function(){return c.get("/index/recommend")},getCatgory:function(t){return c.post("/catgory/getNode",{parentId:t})},getGoodsById:function(t){return c.post("/wx/product/getProductById",{id:t})},getGoodsDetailById:function(t){return c.post("/wx/product/getProductDescriptionByProductId",{productId:t})},getGoodsReview:function(t){return c.post("/wx/product/getProductReviewsByProductId",{productId:t})}}},52:function(t,e,n){"use strict";var o=n(7),i=n(125);o.default.use(i.a),e.a=new i.a({routes:[{path:"/",redirect:"/index"},{path:"/index",name:"index",component:function(t){return n.e(1).then(function(){var e=[n(142)];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/classify",name:"classify",component:function(t){return n.e(3).then(function(){var e=[n(139)];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/shoppingCart",name:"shoppingCart",component:function(t){return n.e(2).then(function(){var e=[n(143)];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/face",name:"face",component:function(t){return n.e(4).then(function(){var e=[n(141)];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/detail/:id",name:"detail",component:function(t){return n.e(0).then(function(){var e=[n(140)];t.apply(null,e)}.bind(this)).catch(n.oe)}}]})},53:function(t,e,n){"use strict";function o(){return new a.a.Store({state:{shoppingCartSheetOpen:!1,shoppingCartSheetItem:{},shoppingCartList:[]},actions:s.a,mutations:c.a,getters:r.a})}e.a=o;var i=n(7),a=n(90),s=n(134),c=n(136),r=n(135);i.default.use(a.a)},76:function(t,e,n){function o(t){n(87)}var i=n(3)(n(128),n(81),o,null,null);t.exports=i.exports},77:function(t,e,n){function o(t){n(86)}var i=n(3)(n(131),n(80),o,null,null);t.exports=i.exports},78:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"g-sc",style:{height:"calc(100vh - "+t.marginTop+" - "+t.marginBottom+")"}},[n("div",{directives:[{name:"scroll",rawName:"v-scroll"}],staticClass:"sc"},[t._t("default")],2)])},staticRenderFns:[]}},79:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("mu-float-button",{style:t.style},[t._t("default")],2)},staticRenderFns:[]}},80:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mu-bottom-sheet",{attrs:{open:t.bottomSheet},on:{close:t.closeBottomSheet}},[n("div",{staticClass:"shopping-cat"},[n("div",{staticStyle:{"text-align":"center"}},[n("div",{staticStyle:{"font-size":"1rem"}},[t._v("购买商品")]),t._v(" "),n("div",{staticStyle:{color:"#ccc","font-size":".8rem","font-weight":"300"}},[t._v("shopping")]),t._v(" "),n("mu-divider")],1),t._v(" "),n("div",{staticClass:"main"},[n("mu-paper",{staticClass:"img",style:{"background-image":"url("+t.goodsData.imgUrl+")"},attrs:{zDepth:2}}),t._v(" "),n("div",{staticClass:"content"},[n("div",{staticClass:"header"},[t._v("\n          "+t._s(t.goodsData.title)+"\n        ")]),t._v(" "),n("div",{staticClass:"price"},[t._v("\n          ¥"+t._s(t.goodsData.price)+"\n        ")]),t._v(" "),n("div",{staticClass:"stock"},[t._v("\n          库存："+t._s(t.goodsData.stock||0)+"\n        ")]),t._v(" "),n("div",{staticClass:"count"},[n("span",[t._v("\n            数量：\n          ")]),t._v(" "),n("i",{staticClass:"material-icons icon",on:{click:t.countDel}},[t._v("remove_circle")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.count,expression:"count"}],attrs:{type:"text"},domProps:{value:t.count},on:{input:function(e){e.target.composing||(t.count=e.target.value)}}}),t._v(" "),n("i",{staticClass:"material-icons icon",on:{click:t.countAdd}},[t._v("add_circle")])])])],1),t._v(" "),n("mu-raised-button",{attrs:{secondary:"",label:t.count*t.goodsData.price>0?"甩进菜篮（ "+t.count*t.goodsData.price+"元 ）":"甩进菜篮",fullWidth:""},nativeOn:{click:function(e){t.intoShoppingCart(e)}}})],1),t._v(" "),n("mu-popup",{attrs:{position:"top",popupClass:"topPopup",overlay:!1,open:t.topPopup}},[t._v("\n    "+t._s(t.popupText)+"\n  ")])],1)},staticRenderFns:[]}},81:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mu-paper",{class:{"bottom-nav":t.fixed},attrs:{zDepth:1}},[n("mu-bottom-nav",{on:{change:t.bottomNavChange}},t._l(t.bottomNav,function(e,o){return 2!=o?n("mu-bottom-nav-item",{key:o,staticClass:"bottom-item",style:{color:e.path==t.activePath?t.activeColor:""},attrs:{value:o,title:e.span,icon:e.icon}}):n("mu-bottom-nav-item",{key:o,staticClass:"bottom-item",style:{color:e.path==t.activePath?t.activeColor:""},attrs:{value:o,title:e.span,icon:e.icon}},[t.shoppingCartList.length>0?n("div",{staticStyle:{position:"absolute",right:"10%",top:"1%"}},[n("mu-badge",{attrs:{content:""+t.shoppingCartList.length,badgeClass:"badgeClass",circle:"",secondary:""}})],1):t._e()])}))],1)},staticRenderFns:[]}},82:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view")],1),t._v(" "),n("bottom-nav",{attrs:{fixed:""}}),t._v(" "),n("shopping-cart-sheet")],1)},staticRenderFns:[]}},83:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"goos-card",style:{width:t.width}},[n("div",{staticClass:"main",style:{height:t.height,"background-image":"url("+t.data.imgUrl+")"},on:{click:t.clickImg}},[t._t("subTitle",[t.subTitle?n("div",{staticClass:"sub-title"},[n("span",[t._v(t._s(t.subTitle))])]):t._e()])],2),t._v(" "),t._t("title",[t.data.title&&!t.hidTitle?n("div",{staticClass:"title"},[t.data.price?n("span",{staticClass:"price"},[t._v("¥"+t._s(t.data.price))]):t._e(),t._v(" "),n("span",{staticClass:"tetx"},[t._v("\n        "+t._s(t.data.title)+"\n      ")]),t._v(" "),t.data.price?n("i",{staticClass:"material-icons add",on:{click:t.clickShop}},[t._v("add_shopping_cart")]):t._e()]):t._e()])],2)},staticRenderFns:[]}},84:function(t,e){},85:function(t,e){},86:function(t,e){},87:function(t,e){},88:function(t,e){},89:function(t,e){}},[133]);
//# sourceMappingURL=app.8f1c2b4ca668d615778c.js.map